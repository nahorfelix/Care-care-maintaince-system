{% extends 'vehicle/adminbase.html' %}
{% block content %}
{% load static %}

<div class="wrapper" style="padding: 40px 20px; min-height: 80vh; background-color: #f8f9fa;">

  <!-- Table Card -->
  <div class="card" style="border-radius:12px; box-shadow:0 6px 18px rgba(0,0,0,0.1); overflow-x:auto;">
    <div class="card-header" style="text-align:center; background-color:#e74c3c; color:white; padding:15px 0; font-size:1.2em;">
      Mechanics
    </div>
    <div class="card-content" style="padding:20px;">
      <table class="modern-table">
        <thead>
          <tr>
            <th>Name</th>
            <th>Profile Picture</th>
            <th>Mobile</th>
            <th>Address</th>
            <th>Skills</th>
            <th>Salary</th>
            <th>Update</th>
            <th>Delete</th>
          </tr>
        </thead>
        <tbody>
          {% for m in mechanics %}
          <tr>
            <td>{{ m.get_name }}</td>
            <td>
              {% if m.profile_pic %}
              <img src="{{ m.profile_pic.url }}" alt="Profile Pic" class="profile-img"/>
              {% else %}
              <img src="{% static 'images/default_profile.png' %}" alt="Default Pic" class="profile-img"/>
              {% endif %}
            </td>
            <td>{{ m.mobile }}</td>
            <td>{{ m.address }}</td>
            <td>{{ m.skill }}</td>
            <td>{{ m.salary }}</td>
            <td><a href="{% url 'update-mechanic' m.id %}" class="action-icon update">&#9998;</a></td>
            <td><a href="{% url 'delete-mechanic' m.id %}" class="action-icon delete">&#10008;</a></td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>

</div>

<style>
/* Modern table styling */
.modern-table {
  width: 100%;
  border-collapse: collapse;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

.modern-table thead tr {
  background-color: #2c3e50;
  color: #ecf0f1;
}

.modern-table th, .modern-table td {
  padding: 12px 15px;
  text-align: center;
  border-bottom: 1px solid #ddd;
}

.modern-table tbody tr:hover {
  background-color: #f1f1f1;
  transition: background-color 0.2s;
}

.profile-img {
  height: 50px;
  width: 50px;
  border-radius: 50%;
  object-fit: cover;
  border: 2px solid #3498db;
}

.action-icon {
  font-size: 20px;
  text-decoration: none;
  transition: transform 0.2s;
}

.action-icon.update:hover {
  color: #27ae60;
  transform: scale(1.2);
}

.action-icon.delete:hover {
  color: #c0392b;
  transform: scale(1.2);
}

@media (max-width: 768px) {
  .modern-table th, .modern-table td {
    padding: 8px 10px;
    font-size: 13px;
  }

  .profile-img {
    height: 40px;
    width: 40px;
  }
}
</style>

{% endblock content %}
